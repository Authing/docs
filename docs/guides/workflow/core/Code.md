


 密码
 [#](#代码 "永久链接")
===================================



 “代码”节点允许您编写自定义JavaScript，并将其作为工作流中的一个步骤运行。
 




 功能和功能项节点
 



 从0.198.0版起，“代码”节点将替换“功能”和“功能项”节点。如果您使用的是n8n的旧版本，您仍然可以查看
 [功能节点文档](https://github.com/n8n-io/n8n-docs/blob/67935ad2528e2e30d7984ea917e4af2910a096ec/docs/integrations/builtin/core-nodes/n8n-nodes-base.function.md) 
 和
 [功能项节点文档](https://github.com/n8n-io/n8n-docs/blob/67935ad2528e2e30d7984ea917e4af2910a096ec/docs/integrations/builtin/core-nodes/n8n-nodes-base.functionItem.md) 
 .
 




 用法
 [#](#用法 "永久链接")
-------------------------------------



 如何使用“代码”节点。
 


### 
 选择一种模式
 [#](#选择模式 "永久链接")



 有两种模式：
 


***对所有项目运行一次**
 ：这是默认设置。当工作流运行时，无论有多少输入项，代码节点中的代码都会执行一次。
***每个项目运行一次**
 ：如果希望代码为每个输入项运行，请选择此选项。


### 
 支持的JavaScript功能
 [#](#支持的javascript功能 "永久链接")



 “代码”节点支持：
 


*承诺。您可以返回相应解决方案的承诺，而不是直接返回项目。
*使用写入浏览器控制台
 `控制台日志`
 。这对于调试和排除工作流故障非常有用。


### 
 外部库
 [#](#外部库 "永久链接")



 如果您自己托管n8n，则可以在“代码”节点中导入和使用内置和外部npm模块。要了解如何启用外部模块，请参阅
 [Configuration]（/hosting/Configuration/#在代码节点中使用内置模块和外部模块）
 指导
 



 n8n中的编码
 [#](#coding-in-n8n "永久链接")
-----------------------------------------------------



 在n8n中有两个地方可以使用代码：代码节点和表达式编辑器。在使用这两个领域时，您需要了解一些关键概念，以及一些内置方法和变量，以帮助完成常见任务。
 


### 
 关键概念
 [#](#关键概念 "永久链接")



 使用“代码”节点时，需要了解以下概念：
 


*[数据结构]（/Data/Data structure/）
 ：了解在“代码”节点中接收的数据，以及从该节点输出数据的要求。
*[项链接]（/data/数据映射/数据项链接/）
 ：了解数据项的工作方式，以及如何链接到以前节点中的项。当输入项和输出项的数量不匹配时，需要处理代码中的项链接。


### 
 内置方法和变量
 [#](#内置方法和变量 "永久链接")



 n8n包括内置方法和变量。这些功能支持：
 


*访问特定项目数据
*访问有关工作流、执行和n8n环境的数据
*方便变量有助于数据和时间



 请参阅
 [方法和变量]（/code examples/methods variables reference/）
 了解更多信息。
 




