# 密码策略

<LastUpdated/>

要为主体配置密码策略，执行以下步骤：

1. 在 **密码安全** 页点击页面右上角 **创建密码策略** 按钮。</br>打开 **创建密码策略** 页面。

2. 在 **基础信息** 模块填写 **策略名** 和 **描述**。

::: hint-info
密码策略名必须唯一。
**描述** 最多 200 字符。
::: 

3. 在 **策略应用主体** 模块选择 **策略应用主体类型**。

::: hint-info
可以按照 **用户**、**组织机构**（toE可选）、**分组** 来筛选主体。
::: 

4. 选择 **策略应用主体**。

::: hint-info
* **用户**、**组织机构**（toE可选）和 **分组** 的数据源分别来自 **用户管理** 中的 **用户列表**、**组织机构**（toE可选）和 **用户组管理**。
* 支持选择同一类型下的多个主体。
* 如已选主体在数据源中被删除，则该主体所在密码策略会联动删除该主体。
::: 

5. 选择适用的密码强度（**不作检测**、**低强度**、**中强度**、**高强度**、**自定义强度**）。

::: hint-info
* 此处设置的密码强度适用于用户注册密码、用户重置密码和用户修改密码。
* 默认不检测密码强度。
* 对于自定义密码强度规则，需要在下方定义正则表达式，并输入密码错误提示。
::: 

6. 在 **检测密码** 字段输入密码，检测该密码是否符合上方设置的密码强度规则。</br>如符合，在输入框后显示绿色对钩；如不符合，在输入框后显示错误提示，需根据提示进行修改。

7. 开启 **用户登录密码强度检验** 开关（默认关闭）。

![](../images/pw-strength.png)

::: hint-info
开启后，在设置了较高密码强度规则的情况下，登录较低强度密码的账号，跳转进入密码修改页。
::: 

<img src="../images/prompt-pw-modify.png" height=450 style="display:block;margin: 0 auto;">

::: hint-info
若用户在修改密码时，管理员同时提高了密码强度，页面会提示用户刷新页面重试。
:::

<img src="../images/pw-strength-updated.png" height=450 style="display:block;margin: 0 auto;">

8. 设置密码轮换策略（默认关闭）。

* **强制修改密码周期**：超过选定周期，用户登录将强制修改密码。

* **密码到期提示**：临期内每天给用户发送一次邮件提醒，直到用户成功修改密码。

::: hint-info
* 用户登录必须修改密码。
* 管理员可以在 **品牌化->消息设置** 中修改邮件模板。
:::

* **密码不可重复周期**：选定周期内，用户修改密码、重置密码时，历史使用过的密码不可以再次使用。

9. 点击 **创建**。</br>新建的密码策略会显示在 **密码安全->密码策略** 列表顶部。

::: hint-info
* 修改已有密码策略时，下方为 **保存** 和 **重置** 按钮。
* 点击 **重置**，所有已修改未保存的配置将恢复至上一次保存后的状态。
::: 